//@version=4
strategy("Volume Momentum")

stopLoss = input(title="STOP LOSS", defval=0.9)
profit = input(title="PROFIT GAIN", defval=1.2)

volumeOne = volume[3]
volumeTwo = volume[1]
volumeThree = volume[2]
volumeFour = volume[4]
volumeFive = volume[5]
lastVolume = volume[0]

averageVolume = (volumeOne+volumeTwo+volumeThree)/3

plot(lastVolume/10000, color=#00ffaa)
plot(averageVolume/10000, color = #000000)

longCondition = lastVolume > averageVolume * 5 and close[0] > open[0]
shortCondition = lastVolume > averageVolume * 5 and close[0] < open[0]

strategy.order("long/comprado", true, limit = close - 1, when = longCondition)
strategy.exit("exit/saida", "long/comprado", profit = abs(close*profit - close), loss = abs(close*stopLoss - close))
strategy.order("short/vendido", false, limit = close + 1, when = shortCondition)
strategy.exit("exit/saida", "short/vendido", profit = abs(close*profit - close), loss = abs(close*stopLoss - close))
